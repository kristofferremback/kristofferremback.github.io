---
import BaseLayout from './BaseLayout.astro';

interface Props {
	id: string;
	title: string;
	description: string;
	pubDate: Date;
	updatedDate?: Date;
	tags: string[];
}

const { id, title, description, pubDate, updatedDate, tags } = Astro.props;
const dateStr = pubDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
const updatedStr = updatedDate?.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
---

<BaseLayout title={`${title} â€” Kristoffer Remback`} description={description}>
	<article>
		<header class="mb-10 pb-8 border-b border-stone-200 dark:border-stone-800">
			<h1 class="text-4xl font-bold tracking-tight">{title}</h1>
			<div class="mt-3 flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-stone-500 dark:text-stone-400">
				<time datetime={pubDate.toISOString()}>{dateStr}</time>
				{updatedStr && <span>Updated {updatedStr}</span>}
				{tags.length > 0 && (
					<div class="flex gap-2">
						{tags.map((tag) => (
							<a
								href={`/tags/${tag}`}
								class="text-xs px-2 py-0.5 rounded-full bg-stone-200 text-stone-600 hover:bg-stone-300 dark:bg-stone-800 dark:text-stone-400 dark:hover:bg-stone-700 transition-colors"
							>
								{tag}
							</a>
						))}
					</div>
				)}
			</div>
		</header>
		<div class="prose dark:prose-invert max-w-none">
			<slot />
		</div>
		<footer class="mt-12 pt-6 border-t border-stone-200 dark:border-stone-800 text-sm text-stone-500 dark:text-stone-400">
			<a href={`/ai/blog/${id}`} class="hover:text-stone-900 dark:hover:text-stone-100 transition-colors">
				View as Markdown
			</a>
		</footer>
	</article>
</BaseLayout>
