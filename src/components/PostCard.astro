---
interface Props {
	id: string;
	title: string;
	description: string;
	pubDate: Date;
	tags: string[];
}

const { id, title, description, pubDate, tags } = Astro.props;
const dateStr = pubDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
---

<article class="group">
	<a href={`/blog/${id}`} class="block -mx-4 px-4 py-4 rounded-lg transition-colors hover:bg-stone-100 dark:hover:bg-stone-900" transition:name={`post-${id}`}>
		<div class="flex items-baseline justify-between gap-4">
			<h2 class="text-lg font-bold">{title}</h2>
			<time class="text-sm text-stone-500 dark:text-stone-400 shrink-0 tabular-nums" datetime={pubDate.toISOString()}>
				{dateStr}
			</time>
		</div>
		<p class="mt-1 text-stone-600 dark:text-stone-300">{description}</p>
	</a>
	{tags.length > 0 && (
		<div class="mt-1 -mx-4 px-4 flex gap-2">
			{tags.map((tag) => (
				<a
					href={`/tags/${tag}`}
					class="text-xs px-2 py-0.5 rounded-full bg-stone-200 text-stone-600 hover:bg-stone-300 dark:bg-stone-800 dark:text-stone-400 dark:hover:bg-stone-700 transition-colors"
				>
					{tag}
				</a>
			))}
		</div>
	)}
</article>
