---
interface Props {
	title: string;
	description: string;
	url: string;
	type?: 'website' | 'article';
	image?: string;
	publishedTime?: Date;
	modifiedTime?: Date;
	author?: string;
	tags?: string[];
}

const {
	title,
	description,
	url,
	type = 'website',
	image,
	publishedTime,
	modifiedTime,
	author = 'Kristoffer Remback',
	tags = [],
} = Astro.props;

const siteName = 'Kristoffer Remback';
const canonicalUrl = new URL(url, Astro.site).href;
const imageUrl = image ? new URL(image, Astro.site).href : undefined;
---

<!-- Canonical URL -->
<link rel="canonical" href={canonicalUrl} />

<!-- Open Graph -->
<meta property="og:type" content={type} />
<meta property="og:site_name" content={siteName} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:url" content={canonicalUrl} />
{imageUrl && <meta property="og:image" content={imageUrl} />}
{publishedTime && <meta property="article:published_time" content={publishedTime.toISOString()} />}
{modifiedTime && <meta property="article:modified_time" content={modifiedTime.toISOString()} />}
{author && <meta property="article:author" content={author} />}
{tags.map((tag) => <meta property="article:tag" content={tag} />)}

<!-- Twitter Card -->
<meta name="twitter:card" content={imageUrl ? 'summary_large_image' : 'summary'} />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
{imageUrl && <meta name="twitter:image" content={imageUrl} />}
